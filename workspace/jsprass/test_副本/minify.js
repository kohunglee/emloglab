"use strict";var to_ascii,to_base64;function read_source_map(e,a){for(var r=a.end.comments_after,n=r.length;0<=--n;){var o=r[n];if("comment1"!=o.type)break;o=/^# ([^\s=]+)=(\S+)\s*$/.exec(o.value);if(!o)break;if("sourceMappingURL"==o[1]){if(o=/^data:application\/json(;.*?)?;base64,([^,]+)$/.exec(o[2]))return to_ascii(o[2]);break}}AST_Node.warn("inline source map not found: {name}",{name:e})}function parse_source_map(a){try{return JSON.parse(a)}catch(e){throw new Error("invalid input source map: "+a)}}function set_shorthand(a,r,e){e.forEach(function(e){r[e]&&("object"!=typeof r[e]&&(r[e]={}),a in r[e]||(r[e][a]=r[a]))})}function init_cache(e){e&&("props"in e?e.props instanceof Dictionary||(e.props=Dictionary.fromObject(e.props)):e.props=new Dictionary)}function to_json(e){return{props:e.props.toObject()}}function minify(n,o){try{(o=defaults(o,{annotations:void 0,compress:{},enclose:!1,expression:!1,ie:!1,ie8:!1,keep_fargs:!1,keep_fnames:!1,mangle:{},module:void 0,nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!(!o||o.expression||!o.module)||void 0,v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&AST_Node.enable_validation();var e,s,a=o.timings&&{start:Date.now()},r=(void 0!==o.annotations&&set_shorthand("annotations",o,["compress","output"]),o.expression&&set_shorthand("expression",o,["compress","parse"]),o.ie8&&(o.ie=o.ie||o.ie8),o.ie&&set_shorthand("ie",o,["compress","mangle","output","rename"]),o.keep_fargs&&set_shorthand("keep_fargs",o,["compress","mangle","rename"]),o.keep_fnames&&set_shorthand("keep_fnames",o,["compress","mangle","rename"]),void 0!==o.module||o.ie||(o.module=!0),o.module&&set_shorthand("module",o,["compress","parse"]),void 0!==o.toplevel&&set_shorthand("toplevel",o,["compress","mangle","rename"]),o.v8&&set_shorthand("v8",o,["mangle","output","rename"]),o.webkit&&set_shorthand("webkit",o,["compress","mangle","output","rename"]),o.mangle&&(o.mangle=defaults(o.mangle,{cache:o.nameCache&&(o.nameCache.vars||{}),eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),o.mangle.properties&&("object"!=typeof o.mangle.properties&&(o.mangle.properties={}),o.mangle.properties.keep_quoted&&(e=o.mangle.properties.reserved,Array.isArray(e)||(e=[]),o.mangle.properties.reserved=e),!o.nameCache||"cache"in o.mangle.properties||(o.mangle.properties.cache=o.nameCache.props||{})),init_cache(o.mangle.cache),init_cache(o.mangle.properties.cache)),void 0===o.rename&&(o.rename=o.compress&&o.mangle),o.sourceMap&&(o.sourceMap=defaults(o.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0)),[]);if(o.warnings&&AST_Node.log_function(function(e){r.push(e)},"verbose"==o.warnings),a&&(a.parse=Date.now()),o.parse=o.parse||{},n instanceof AST_Node)s=n;else{"string"==typeof n&&(n=[n]),o.parse.toplevel=null;var t,p=o.sourceMap&&o.sourceMap.content;for(l in(p="string"==typeof p&&"inline"!=p?parse_source_map(p):p)&&(o.sourceMap.orig=Object.create(null)),n)HOP(n,l)&&(o.parse.filename=l,o.parse.toplevel=s=parse(n[l],o.parse),"inline"==p?(t=read_source_map(l,s))&&(o.sourceMap.orig[l]=parse_source_map(t)):p&&(o.sourceMap.orig[l]=p))}o.parse.expression&&(s=s.wrap_expression()),e&&reserve_quoted_keys(s,e),["enclose","wrap"].forEach(function(e){var a,r=o[e];r&&(a=s.print_to_string().slice(0,-1),s=s[e](r),n[s.start.file]=s.print_to_string().replace(a,""))}),o.validate&&s.validate_ast(),a&&(a.rename=Date.now()),o.rename&&(s.figure_out_scope(o.rename),s.expand_names(o.rename)),a&&(a.compress=Date.now()),o.compress&&(s=new Compressor(o.compress).compress(s),o.validate)&&s.validate_ast(),a&&(a.scope=Date.now()),o.mangle&&s.figure_out_scope(o.mangle),a&&(a.mangle=Date.now()),o.mangle&&(s.compute_char_frequency(o.mangle),s.mangle_names(o.mangle)),a&&(a.properties=Date.now()),e&&reserve_quoted_keys(s,e),o.mangle&&o.mangle.properties&&mangle_properties(s,o.mangle.properties),o.parse.expression&&(s=s.unwrap_expression()),a&&(a.output=Date.now());var i={},c=defaults(o.output,{ast:!1,code:!0});if(c.ast&&(i.ast=s),c.code){if(o.sourceMap&&(c.source_map=SourceMap(o.sourceMap),o.sourceMap.includeSources)){if(n instanceof AST_Toplevel)throw new Error("original source content unavailable");for(var l in n)HOP(n,l)&&c.source_map.setSourceContent(l,n[l])}delete c.ast,delete c.code;var m,u=OutputStream(c);s.print(u),i.code=u.get(),o.sourceMap&&(i.map=c.source_map.toString(),m=o.sourceMap.url)&&(i.code=i.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),i.code+="inline"==m?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+to_base64(i.map):"\n//# sourceMappingURL="+m)}return o.nameCache&&o.mangle&&(o.mangle.cache&&(o.nameCache.vars=to_json(o.mangle.cache)),o.mangle.properties)&&o.mangle.properties.cache&&(o.nameCache.props=to_json(o.mangle.properties.cache)),a&&(a.end=Date.now(),i.timings={parse:.001*(a.rename-a.parse),rename:.001*(a.compress-a.rename),compress:.001*(a.scope-a.compress),scope:.001*(a.mangle-a.scope),mangle:.001*(a.properties-a.mangle),properties:.001*(a.output-a.properties),output:.001*(a.end-a.output),total:.001*(a.end-a.start)}),r.length&&(i.warnings=r),i}catch(e){return{error:e}}finally{AST_Node.log_function(),AST_Node.disable_validation()}}to_base64="undefined"==typeof Buffer?(to_ascii=atob,btoa):void 0===Buffer.alloc?(to_ascii=function(e){return new Buffer(e,"base64").toString()},function(e){return new Buffer(e).toString("base64")}):(to_ascii=function(e){return Buffer.from(e,"base64").toString()},function(e){return Buffer.from(e).toString("base64")});